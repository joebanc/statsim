<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	<title>MySQL++ Reference Manual</title>
	<meta http-equiv="Content-type" content="text/html;charset=iso-8859-1">
	<link href="doxygen.css" rel="stylesheet" type="text/css">
	<link href="refman.css" rel="stylesheet" type="text/css">
</head>
<body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>mysqlpp</b>::<a class="el" href="classmysqlpp_1_1Transaction.html">Transaction</a>
  </div>
</div>
<div class="contents">
<h1>mysqlpp::Transaction Class Reference</h1><!-- doxytag: class="mysqlpp::Transaction" -->Helper object for creating exception-safe SQL transactions.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="transaction_8h-source.html">transaction.h</a>&gt;</code>
<p>
<div class="dynheader">
Collaboration diagram for mysqlpp::Transaction:</div>
<div class="dynsection">
<p><center><img src="classmysqlpp_1_1Transaction__coll__graph.png" border="0" usemap="#mysqlpp_1_1Transaction__coll__map" alt="Collaboration graph"></center>
<map name="mysqlpp_1_1Transaction__coll__map">
<area shape="rect" href="classmysqlpp_1_1Connection.html" title="Manages the connection to the database server." alt="" coords="185,103,340,129"><area shape="rect" href="classmysqlpp_1_1OptionalExceptions.html" title="Interface allowing a class to have optional exceptions." alt="" coords="5,7,211,33"><area shape="rect" href="classmysqlpp_1_1DBDriver.html" title="Provides a thin abstraction layer over the underlying database client library." alt="" coords="328,7,467,33"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="classmysqlpp_1_1Transaction-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysqlpp_1_1Transaction.html#5472100c371746d23311bbd74067c5dc">Transaction</a> (<a class="el" href="classmysqlpp_1_1Connection.html">Connection</a> &amp;conn, bool consistent=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#5472100c371746d23311bbd74067c5dc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysqlpp_1_1Transaction.html#362b0d2524d0c799165190517192dca9">~Transaction</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor.  <a href="#362b0d2524d0c799165190517192dca9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysqlpp_1_1Transaction.html#109bd0f1d70b6ff69cf3abccf7eea8f8">commit</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Commits the transaction.  <a href="#109bd0f1d70b6ff69cf3abccf7eea8f8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysqlpp_1_1Transaction.html#000e4f0882139eb8470f7472ca14a24e">rollback</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Rolls back the transaction.  <a href="#000e4f0882139eb8470f7472ca14a24e"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Helper object for creating exception-safe SQL transactions. <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="5472100c371746d23311bbd74067c5dc"></a><!-- doxytag: member="mysqlpp::Transaction::Transaction" ref="5472100c371746d23311bbd74067c5dc" args="(Connection &amp;conn, bool consistent=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Transaction::Transaction           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmysqlpp_1_1Connection.html">Connection</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>consistent</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>The connection we use to manage the transaction set </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>consistent</em>&nbsp;</td><td>Whether to use "consistent snapshots" during the transaction. See the documentation for "START TRANSACTION" in the MySQL manual for more on this. </td></tr>
  </table>
</dl>

<p>References <a class="el" href="connection_8cpp-source.html#l00262">mysqlpp::Connection::query()</a>.</p>

</div>
</div><p>
<a class="anchor" name="362b0d2524d0c799165190517192dca9"></a><!-- doxytag: member="mysqlpp::Transaction::~Transaction" ref="362b0d2524d0c799165190517192dca9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Transaction::~Transaction           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor. 
<p>
If the transaction has not been committed or rolled back by the time the destructor is called, it is rolled back. This is the right thing because one way this can happen is if the object is being destroyed as the stack is unwound to handle an exception. In that instance, you certainly want to roll back the transaction. 
<p>References <a class="el" href="transaction_8cpp-source.html#l00084">rollback()</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="109bd0f1d70b6ff69cf3abccf7eea8f8"></a><!-- doxytag: member="mysqlpp::Transaction::commit" ref="109bd0f1d70b6ff69cf3abccf7eea8f8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Transaction::commit           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Commits the transaction. 
<p>
This commits all updates to the database using the connection we were created with since this object was created. This is a no-op if the table isn't stored using a transaction-aware storage engine. See CREATE TABLE in the MySQL manual for details. 
<p>References <a class="el" href="query_8h-source.html#l00338">mysqlpp::Query::execute()</a>, and <a class="el" href="connection_8cpp-source.html#l00262">mysqlpp::Connection::query()</a>.</p>

</div>
</div><p>
<a class="anchor" name="000e4f0882139eb8470f7472ca14a24e"></a><!-- doxytag: member="mysqlpp::Transaction::rollback" ref="000e4f0882139eb8470f7472ca14a24e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Transaction::rollback           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Rolls back the transaction. 
<p>
This abandons all SQL statements made on the connection since this object was created. This only works on tables stored using a transaction-aware storage engine. See CREATE TABLE in the MySQL manual for details. 
<p>References <a class="el" href="query_8h-source.html#l00338">mysqlpp::Query::execute()</a>, and <a class="el" href="connection_8cpp-source.html#l00262">mysqlpp::Connection::query()</a>.</p>

<p>Referenced by <a class="el" href="transaction_8cpp-source.html#l00058">~Transaction()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="transaction_8h-source.html">transaction.h</a><li>transaction.cpp</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Aug 16 14:51:09 2008 for MySQL++ by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
